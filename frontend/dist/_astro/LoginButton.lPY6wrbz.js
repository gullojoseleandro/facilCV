import{j as e}from"./createLucideIcon.B8zdPue_.js";import{D as y,a as b,b as C,c as w,d as I,e as D,L as p,G as L}from"./label.CEyXsqBA.js";import{r as a}from"./index.l2PZgWEW.js";import{I as x,B as h}from"./input.Dzvr0aVR.js";import{u as N,L as S}from"./loader-circle.DoYWmRXJ.js";import{m as B}from"./proxy.DnQlockK.js";import"./index.DY16rmGi.js";const F=({children:t})=>{const[i,g]=a.useState(""),[n,j]=a.useState(""),[r,o]=a.useState(""),[c,d]=a.useState(!1),[l,m]=a.useState(!1),{toast:u}=N(),f=()=>i==="admin@admin.com"&&n==="admin",v=async s=>{s.preventDefault(),m(!0),o("");try{f()?(d(!1),u({title:"Inicio de sesión exitoso",description:"Bienvenido de vuelta a FacilCV."}),window.location.href="/dashboard"):(o("Credenciales incorrectas. Intenta nuevamente."),u({title:"Inicio de sesión sin éxito",description:"Vuelve a intentarlo."}))}catch{o("Ocurrió un error inesperado. Intenta nuevamente.")}finally{m(!1)}};return a.useMemo(()=>e.jsxs(y,{open:c,onOpenChange:d,children:[e.jsx(b,{asChild:!0,children:t}),e.jsxs(C,{className:"sm:max-w-[425px]",children:[e.jsxs(w,{children:[e.jsx(I,{children:"Iniciar sesión"}),e.jsx(D,{children:"Ingresa tus credenciales para acceder a tu cuenta de FacilCV."})]}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"email",children:"Correo electrónico"}),e.jsx(x,{id:"email",type:"email",placeholder:"tu@ejemplo.com",required:!0,value:i,onChange:s=>g(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"password",children:"Contraseña"}),e.jsx(x,{id:"password",type:"password",required:!0,value:n,onChange:s=>j(s.target.value)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(h,{type:"button",variant:"link",className:"text-sm",children:"¿Olvidaste tu contraseña?"}),e.jsx(h,{type:"submit",disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),"Cargando..."]}):"Iniciar sesión"})]}),r&&e.jsx("p",{style:{color:"red"},className:"text-center",children:r})]})]})]}),[c,l,t,i,n,r])},H=()=>{const t=a.useMemo(()=>e.jsx(L,{variant:"outline",className:"z-50 bg-black bg-opacity-40 text-white border-white border-opacity-20 hover:bg-opacity-20 transition-all duration-300 fixed top-0 right-0 m-3 p-5 rounded-full shadow-lg",children:"Iniciar sesión"}),[]);return e.jsx(e.Fragment,{children:e.jsx(B.div,{initial:{opacity:0,x:0},animate:{opacity:1,x:0},transition:{delay:.1,duration:3},children:e.jsx(F,{children:t})})})};export{H as default};
